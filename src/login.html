<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Login - Uqbar</title>
    <meta charset="utf-8" />
    <link rel="icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAqhP/x////AP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/4xwJ////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACmE/7MqhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+N4hJ////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AK4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/9twjHf///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8AKoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//////8A////AP///wD///8A////ACqE//8qhP/D////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CCx////AP///wAqhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP////8A////ACqE//////8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/////wAqhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP///98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwfyyqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE////3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/KoT//yqE//////8A////ACqE//8rhf/M////ACqE//////8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//KoT////fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP8qhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP//Lob7wPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/yqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE//8thvvL+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/KoT//yqE//////8A////ACqE//8rhf/M////ACqE//////8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//KoT////fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP8qhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP///98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/yqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE////3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53B/7AKr/AyqE//////8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/////wD///8AKoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//////wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wAqhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT/kf///wD///8A////AP///wD///8AKoT//yqE//////8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP7///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT/3SqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//rcIL3///8A////AP///wD///8A////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////ACuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg9////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AAKr/AyqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//Z////mff/+Znx//mZ8P/pmfB/yZnwP8mZ8B/JmfAPyZnwDsm+cAbJ/jAGyf4QBMn+AADL/gAAy/4AAMv+AADL/gAAy/4AAMv+AADJ/gAAyf4QBsn+MAbJvnAHyZnwD8mZ8A/JmfAfyZnwP+mZ8H/5mfD/+Znx//+Z9///mf/8=">
    <meta httpEquiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.00001, viewport-fit=cover" />
    <link href='https://fonts.googleapis.com/css?family=Press Start 2P' rel='stylesheet'>

    <style>
      :root {
        --uq-vlightpurple: #d9dcfc;
        --uq-lightpurple: #c7cafa;
        --uq-purple: #727bf2;
        --uq-darkpurple: #5761ef;
        --midnightpurp: #0a1170;
        --forgottenpurp: #45475e;
        --uq-lightpink: #f3ced2;
        --uq-pink: #dd7c8a;
        --uq-darkpink: #cd3c52;
        --blush: #d55d6f;
        --celeste: #adebe5;
        --lturq: #6bdbd0;
        --turq: #3acfc0;
        --celadon: #21897e;
        --deep-jungle: #14524c;
        --old-mint: #659792;
        --washed-gray: rgba(0, 0, 0, 0.03);
        --light-gray: rgba(0, 0, 0, 0.1);
        --medium-gray: rgba(0, 0, 0, 0.2);
        --dark-gray: rgba(0, 0, 0, 0.5);
        --charcoal: #333;
      }

      body {
        margin: 0;
        padding: 0;
        font-size: 16px;
        font-family: 'Press Start 2P';
        background-color: #027;
        color: white;
      }

      h1,h2,h3,h4,h5,h6 {
        line-height: 1.5em;
      }

      .col {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .row {
        display: flex;
        flex-direction: row;
        align-items: center;
      }

      input[type="text"], input[type="password"] {
        width: 100%;
        padding: 0.5em 0.75em;
        margin-bottom: 0.5em;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        font-size: 1em;
      }

      button {
        width: 100%;
        padding: 1em;
        margin-bottom: 0.5em;
        border: 1px solid var(--uq-pink);
        border-radius: 4px;
        box-sizing: border-box;
        background-color: var(--uq-pink);
        cursor: pointer;
        font-size: 1em;
        transition: all .1s;
        box-shadow: 0 1px 2px var(--uq-darkpink);
        font-family: 'Press Start 2P';
        color: white;
        margin-top: 1em;
      }

      button:hover {
        background-color: var(--uq-darkpink);
        border: 1px solid var(--uq-darkpink);
      }

      #login-page {
        width: 100%;
        height: 100%;
        flex: 1;
        display: flex;
        padding: 2em;
        max-width: calc(100vw - 4em);
      }

      label {
        font-size: 0.75em;
      }

      .label-row {
        margin: 0.5em 0;
        align-self: flex-start;
      }

      .tooltip-container {
        position: relative;
        display: inline-block;
        cursor: pointer;
      }

      .tooltip-button {
        border: 2px solid white;
        border-radius: 50%;
        height: 1em;
        width: 1em;
        text-align: center;
        font-size: 16px;
        line-height: 0.5em;
        margin-left: 0.5em;
      }

      .tooltip-content {
        visibility: hidden;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 0.5em;
        position: absolute;
        z-index: 1;
        top: 125%;
        left: 50%;
        margin-left: -60px;
        opacity: 0;
        transition: opacity 0.3s;
        font-family: sans-serif;
        line-height: 1.5em;
        min-width: 200px;
      }

      .tooltip-content::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 30%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent #555 transparent;
      }

      .tooltip-container:hover .tooltip-content {
        visibility: visible;
        opacity: 1;
      }

      .forgot-password {
        font-size: 0.75em;
        margin: 0.25em 0 0.5em 0;
        align-self: flex-start;
        color: var(--uq-lightpurple);
      }

      form {
        max-width: calc(100vw - 4em);
        width: 420px;
      }

      #loader {
        display: inline-block;
        position: relative;
        width: 48px;
        height: 48px;
        margin-top: 16px;
      }
      #loader div {
        box-sizing: border-box;
        display: block;
        position: absolute;
        width: 36px;
        height: 36px;
        margin: 6px;
        border: 6px solid #fff;
        border-radius: 50%;
        animation: loader 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        border-color: #fff transparent transparent transparent;
      }
      #loader div:nth-child(1) {
        animation-delay: -0.45s;
      }
      #loader div:nth-child(2) {
        animation-delay: -0.3s;
      }
      #loader div:nth-child(3) {
        animation-delay: -0.15s;
      }
      @keyframes loader {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div id="login-page" class="col">
      <div id="login-form-header" class="row" style="justify-content: center;">
        <img style="margin: 0 1em 0.2em 0;" src="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAqhP/x////AP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/4xwJ////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACmE/7MqhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+N4hJ////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AK4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/9twjHf///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8AKoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//////8A////AP///wD///8A////ACqE//8qhP/D////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CCx////AP///wAqhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP////8A////ACqE//////8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/////wAqhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP///98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwfyyqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE////3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/KoT//yqE//////8A////ACqE//8rhf/M////ACqE//////8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//KoT////fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP8qhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP//Lob7wPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/yqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//////AP///wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE//8thvvL+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/KoT//yqE//////8A////ACqE//8rhf/M////ACqE//////8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//KoT////fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP8qhP//KoT//////wD///8AKoT//yuF/8z///8AKoT//////wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//yqE//8qhP///98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/yqE//8qhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8A////AP///wD///8A////AP///wD///8AKoT//yqE//8qhP//KoT//yqE////3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53B/7AKr/AyqE//////8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//yqE//8qhP//////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg/////wD///8AKoT//////wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//KoT//////wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wAqhP//////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT/kf///wD///8A////AP///wD///8AKoT//yqE//////8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/+dwg//ncIP7///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT/3SqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8AKoT//yuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP/53CD/+dwg//rcIL3///8A////AP///wD///8A////AP///wAqhP//K4X/zP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8A////ACqE//8rhf/M////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg//ncIP/53CD/+dwg/////wD///8A////AP///wD///8A////AP///wD///8A////ACuF/8z///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEPncIP/53CD/+dwg//ncIP////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD/3yAQ+dwg//ncIP/53CD/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8AKoT//yqE//////8A////AP///wD///8A////AP/fIBD53CD/+dwg9////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ACqE//8qhP//////AP///wAqhP//KoT//////wD///8A////AP///wD///8A/98gEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AAKr/AyqE//////8A////ACqE//8qhP//////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//Z////mff/+Znx//mZ8P/pmfB/yZnwP8mZ8B/JmfAPyZnwDsm+cAbJ/jAGyf4QBMn+AADL/gAAy/4AAMv+AADL/gAAy/4AAMv+AADJ/gAAyf4QBsn+MAbJvnAHyZnwD8mZ8A/JmfAfyZnwP+mZ8H/5mfD/+Znx//+Z9///mf/8=" />
        <h1 style="text-align: center;">Uqbar</h1>
      </div>
      <h3 id="uq-name">Login with ${our}</h3>

      <form id="login-form" class="col">
        <div class="row label-row">
          <label for="password">Password</label>
        </div>
        <input autofocus type="password" id="password" required minlength="6" name="password" placeholder="Min 6 characters" />
        <a class="forgot-password" href="#" onclick="toggleForgotPasswordForm()">Forgot password</a>
        <button type="submit">Login</button>
      </form>

      <form id="reset-password-form" class="col" style="display: none;">
        <div class="row label-row">
          <label for="password">New Password</label>
        </div>
        <input autofocus type="password" id="new-password" required minlength="6" name="new-password" placeholder="Min 6 characters" />
        <div class="row label-row">
          <label for="confirm-password">Confirm Password</label>
        </div>
        <input type="password" id="confirm-password" required minlength="6" name="confirm-password" placeholder="Min 6 characters" oninput="clearPasswordCheck()" />
        <a  class="forgot-password" href="#" onclick="toggleForgotPasswordForm()">Go back</a>
        <button type="submit">Sign & Submit</button>
      </form>
      <div id="loading" class="col">
        <h3>Initiating session...</h3>
        <div id="loader"><div></div><div></div><div></div><div></div></div>
      </div>
    </div>
    <script>
      const UQBAR_NETWORK_URL = 'https://chain-id.uqbar.network/uqbar-chain-id'
      const UQBAR_EXPLORER_URL = `https://chain-id.uqbar.network/indexer`
      const UQBAR_NETWORK_HEX = '0x7261627175'
      const UQBAR_NETWORK_INT = 491260113269
      const CONNECTION_ERROR = 'There was an error connecting to your wallet. Please try again.'
      async function loadWallet() {
        try {
          const accounts = await ethereum.request({ method: 'eth_requestAccounts' })
          const networkId = String(await window.ethereum.request({ method: 'net_version' }).catch(() => '0x1'))

          if (networkId !== UQBAR_NETWORK_HEX && networkId !== UQBAR_NETWORK_INT) {
            // await window.ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x5' }] });
            await window.ethereum.request({
              method: 'wallet_addEthereumChain',
              params: [{
                chainId: UQBAR_NETWORK_HEX,
                chainName: 'Uqbar',
                nativeCurrency: { name: 'ZIG', symbol: 'ZIG', decimals: 18 },
                rpcUrls: [UQBAR_NETWORK_URL],
                blockExplorerUrls: [UQBAR_EXPLORER_URL],
              }]
            })
          }

          return accounts[0]
        } catch (err) {
          console.error(err)
          throw new Error(err)
        }
      }

      async function login(e) {
        document.getElementById('loading').style.display = 'flex'
        document.getElementById('login-form').style.display = 'none'
        try {
          e.preventDefault();
          e.stopPropagation();

          const password = document.getElementById('password').value
          const result = await fetch('/login', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ password })
          });

          if (result.status === 200) {
            const httpServerPort = await result.text()
            const interval = setInterval(async () => {
              const homepageResult = await fetch(`http://localhost:${httpServerPort}/`)
              if (homepageResult.status < 400) {
                clearInterval(interval)
                window.location.replace(`http://localhost:${httpServerPort}`)
              }
            }, 2000);
          } else if (result.status === 405) {
            window.alert('Incorrect password. Please try again.')
            document.getElementById('loading').style.display = 'none'
            document.getElementById('login-form').style.display = 'block'
            const pwInput = document.getElementById('password')
            if (pwInput) {
              pwInput.value = ''
              pwInput.focus()
            }
          } else {
            window.alert('Your on-chain registration must be updated on this node. Please sign the message to continue.')
            const address = await loadWallet().catch(() => null)
            if (!address) {
              window.alert('There was an error connecting to your wallet. Please try again.')
              document.getElementById('login-form').style.display = 'block'
              return false
            }
            const message = await result.text()
            const signature = await ethereum.request({ method: 'personal_sign', params: [message, address, message] }).catch(() => null)
            if (!signature) {
              window.alert('There was an error signing the message. Please try again.')
              document.getElementById('login-form').style.display = 'block'
              return false
            }
            const loginResult = await fetch('/login', {
              method: 'PUT',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(signature)
            })

            const httpServerPort = await loginResult.text()

            const interval = setInterval(async () => {
              const homepageResult = await fetch(`http://localhost:${httpServerPort}/`)
              if (homepageResult.status < 400) {
                clearInterval(interval)
                window.location.replace(`http://localhost:${httpServerPort}/`)
              }
            }, 2000);
          }

        } catch (err) {
          console.error(err)
          document.getElementById('loading').style.display = 'none'
          document.getElementById('login-form').style.display = 'block'
        } finally {
          return false
        }
      }

      async function resetPassword(e) {
        e.preventDefault();
        e.stopPropagation();
        if (!checkPassword()) {
          return false
        }

        try {
          document.getElementById('loading').style.display = 'flex'
          document.getElementById('login-form').style.display = 'none'
          const address = await loadWallet()
          const newPassword = document.querySelector('input[name="new-newP]').value
          // const nftContract = document.querySelector('input[name="nft-contract"]').value
          // const nftId = document.querySelector('input[name="nft-id"]').value
          // const uqName = document.querySelector('input[name="uq-name"]').value
          // const message = `Set Uqbar ID
// Contract: ${nftContract}
// ID: ${nftId}`
          const resetMessage = `Reset Password`
          const signature = await ethereum.request({ method: 'personal_sign', params: [resetMessage, address, resetMessage] })
          const result = await fetch('/reset-password', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ signature, message, password: newPassword })
          })

          if (result.status === 200) {
            window.alert('Your on-chain registration must be updated on this node. Please sign the message to continue.')
            const registrationMessage = await result.text()
            const signature = await ethereum.request({ method: 'personal_sign', params: [registrationMessage, address, registrationMessage] })
            await fetch('/reset-password', {
              method: 'PUT',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(signature)
            })
          }

          setTimeout(() => {
            window.location.href = 'http://localhost:8080/'
          }, 3000)
        } catch (err) {
          console.error(err)
          window.alert(CONNECTION_ERROR)
        } finally {
          return false
        }
      }

      function toggleForgotPasswordForm() {
        const loginForm = document.getElementById('login-form')
        const resetPasswordForm = document.getElementById('reset-password-form')
        loginForm.style.display = loginForm.style.display === 'none' ? 'block' : 'none'
        resetPasswordForm.style.display = resetPasswordForm.style.display === 'none' ? 'block' : 'none'
        loginForm.style.display === 'none' ?
          resetPasswordForm.querySelector('input[name="password"]').focus() :
          loginForm.querySelector('input[name="password"]').focus()
      }

      const form = document.getElementById('login-form')
      form.addEventListener('submit', login)

      const resetPasswordForm = document.getElementById('reset-password-form')
      resetPasswordForm.addEventListener('submit', resetPassword)

      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('loading').style.display = 'none'
      })
    </script>
  </body>
</html>
